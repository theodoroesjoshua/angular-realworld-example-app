{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/auth/auth-routing.module.ts","./src/app/auth/auth.component.ts","./src/app/auth/auth.component.html","./src/app/auth/auth.module.ts","./src/app/auth/no-auth-guard.service.ts","./src/app/core/core.module.ts","./src/app/core/index.ts","./src/app/core/interceptors/http.token.interceptor.ts","./src/app/core/interceptors/index.ts","./src/app/core/models/article-list-config.model.ts","./src/app/core/models/article.model.ts","./src/app/core/models/comment.model.ts","./src/app/core/models/errors.model.ts","./src/app/core/models/index.ts","./src/app/core/models/profile.model.ts","./src/app/core/models/user.model.ts","./src/app/core/services/api.service.ts","./src/app/core/services/articles.service.ts","./src/app/core/services/auth-guard.service.ts","./src/app/core/services/comments.service.ts","./src/app/core/services/index.ts","./src/app/core/services/jwt.service.ts","./src/app/core/services/profiles.service.ts","./src/app/core/services/tags.service.ts","./src/app/core/services/user.service.ts","./src/app/home/home-auth-resolver.service.ts","./src/app/home/home-routing.module.ts","./src/app/home/home.component.ts","./src/app/home/home.component.html","./src/app/home/home.module.ts","./src/app/shared/article-helpers/article-list.component.ts","./src/app/shared/article-helpers/article-list.component.html","./src/app/shared/article-helpers/article-meta.component.ts","./src/app/shared/article-helpers/article-meta.component.html","./src/app/shared/article-helpers/article-preview.component.ts","./src/app/shared/article-helpers/article-preview.component.html","./src/app/shared/article-helpers/index.ts","./src/app/shared/buttons/favorite-button.component.ts","./src/app/shared/buttons/favorite-button.component.html","./src/app/shared/buttons/follow-button.component.ts","./src/app/shared/buttons/follow-button.component.html","./src/app/shared/buttons/index.ts","./src/app/shared/index.ts","./src/app/shared/layout/footer.component.ts","./src/app/shared/layout/footer.component.html","./src/app/shared/layout/header.component.ts","./src/app/shared/layout/header.component.html","./src/app/shared/layout/index.ts","./src/app/shared/list-errors.component.ts","./src/app/shared/list-errors.component.html","./src/app/shared/shared.module.ts","./src/app/shared/show-authed.directive.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { QuicklinkModule, QuicklinkStrategy } from 'ngx-quicklink';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'settings',\r\n    loadChildren: () => import('./settings/settings.module').then(m => m.SettingsModule)\r\n  },\r\n  {\r\n    path: 'profile',\r\n    loadChildren: () => import('./profile/profile.module').then(m => m.ProfileModule)\r\n  },\r\n  {\r\n    path: 'editor',\r\n    loadChildren: () => import('./editor/editor.module').then(m => m.EditorModule)\r\n  },\r\n  {\r\n    path: 'article',\r\n    loadChildren: () => import('./article/article.module').then(m => m.ArticleModule)\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    QuicklinkModule,\r\n    RouterModule.forRoot(routes, {\r\n    // preload all modules; optionally we could\r\n    // implement a custom preloading strategy for just some\r\n    // of the modules (PRs welcome ðŸ˜‰)\r\n    preloadingStrategy: QuicklinkStrategy,\r\n})],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {}\r\n","import { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\r\n\r\nimport { UserService } from \"./core\";\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class AppComponent implements OnInit {\r\n  constructor(private userService: UserService) {}\r\n\r\n  ngOnInit() {\r\n    this.userService.populate();\r\n  }\r\n}\r\n","<app-layout-header></app-layout-header>\r\n\r\n<router-outlet></router-outlet>\r\n\r\n<app-layout-footer></app-layout-footer>\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { AuthModule } from './auth/auth.module';\r\nimport { HomeModule } from './home/home.module';\r\nimport {\r\n  FooterComponent,\r\n  HeaderComponent,\r\n  SharedModule\r\n} from './shared';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { CoreModule } from './core/core.module';\r\nimport { ServiceWorkerModule } from '@angular/service-worker';\r\nimport { environment } from '../environments/environment';\r\n\r\n@NgModule({\r\n  declarations: [AppComponent, FooterComponent, HeaderComponent],\r\n  imports: [\r\n    BrowserModule,\r\n    CoreModule,\r\n    SharedModule,\r\n    HomeModule,\r\n    AuthModule,\r\n    AppRoutingModule,\r\n    ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production })\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthComponent } from './auth.component';\r\nimport { NoAuthGuard } from './no-auth-guard.service';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'login',\r\n    component: AuthComponent,\r\n    canActivate: [NoAuthGuard]\r\n  },\r\n  {\r\n    path: 'register',\r\n    component: AuthComponent,\r\n    canActivate: [NoAuthGuard]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AuthRoutingModule {}\r\n","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { FormBuilder, FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { Errors, UserService } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-auth-page',\r\n  templateUrl: './auth.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class AuthComponent implements OnInit {\r\n  authType: String = '';\r\n  title: String = '';\r\n  errors: Errors = {errors: {}};\r\n  isSubmitting = false;\r\n  authForm: FormGroup;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private userService: UserService,\r\n    private fb: FormBuilder,\r\n    private cd: ChangeDetectorRef\r\n  ) {\r\n    // use FormBuilder to create a form group\r\n    this.authForm = this.fb.group({\r\n      'email': ['', Validators.required],\r\n      'password': ['', Validators.required]\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.route.url.subscribe(data => {\r\n      // Get the last piece of the URL (it's either 'login' or 'register')\r\n      this.authType = data[data.length - 1].path;\r\n      // Set a title for the page accordingly\r\n      this.title = (this.authType === 'login') ? 'Sign in' : 'Sign up';\r\n      // add form control for username if this is the register page\r\n      if (this.authType === 'register') {\r\n        this.authForm.addControl('username', new FormControl());\r\n      }\r\n      this.cd.markForCheck();\r\n    });\r\n  }\r\n\r\n  submitForm() {\r\n    this.isSubmitting = true;\r\n    this.errors = {errors: {}};\r\n\r\n    const credentials = this.authForm.value;\r\n    this.userService\r\n    .attemptAuth(this.authType, credentials)\r\n    .subscribe(\r\n      data => this.router.navigateByUrl('/'),\r\n      err => {\r\n        this.errors = err;\r\n        this.isSubmitting = false;\r\n        this.cd.markForCheck();\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"auth-page\">\r\n  <div class=\"container page\">\r\n    <div class=\"row\">\r\n\r\n      <div class=\"col-md-6 offset-md-3 col-xs-12\">\r\n        <h1 class=\"text-xs-center\">{{ title }}</h1>\r\n        <p class=\"text-xs-center\">\r\n          <a [routerLink]=\"['/login']\" *ngIf=\"authType === 'register'\">Have an account?</a>\r\n          <a [routerLink]=\"['/register']\" *ngIf=\"authType === 'login'\">Need an account?</a>\r\n        </p>\r\n        <app-list-errors [errors]=\"errors\"></app-list-errors>\r\n        <form [formGroup]=\"authForm\" (ngSubmit)=\"submitForm()\">\r\n          <fieldset [disabled]=\"isSubmitting\">\r\n            <fieldset class=\"form-group\">\r\n              <input\r\n                formControlName=\"username\"\r\n                placeholder=\"Username\"\r\n                class=\"form-control form-control-lg\"\r\n                type=\"text\"\r\n                *ngIf=\"authType === 'register'\" />\r\n            </fieldset>\r\n            <fieldset class=\"form-group\">\r\n              <input\r\n                formControlName=\"email\"\r\n                placeholder=\"Email\"\r\n                class=\"form-control form-control-lg\"\r\n                type=\"text\" />\r\n            </fieldset>\r\n            <fieldset class=\"form-group\">\r\n              <input\r\n                formControlName=\"password\"\r\n                placeholder=\"Password\"\r\n                class=\"form-control form-control-lg\"\r\n                type=\"password\" />\r\n            </fieldset>\r\n            <button class=\"btn btn-lg btn-primary pull-xs-right\" [disabled]=\"!authForm.valid\" type=\"submit\">\r\n              {{ title }}\r\n            </button>\r\n          </fieldset>\r\n        </form>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { AuthComponent } from './auth.component';\r\nimport { NoAuthGuard } from './no-auth-guard.service';\r\nimport { SharedModule } from '../shared';\r\nimport { AuthRoutingModule } from './auth-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    AuthRoutingModule\r\n  ],\r\n  declarations: [\r\n    AuthComponent\r\n  ],\r\n  providers: [\r\n    NoAuthGuard\r\n  ]\r\n})\r\nexport class AuthModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { UserService } from '../core';\r\nimport { map ,  take } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class NoAuthGuard implements CanActivate {\r\n  constructor(\r\n    private router: Router,\r\n    private userService: UserService\r\n  ) {}\r\n\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): Observable<boolean> {\r\n\r\n    return this.userService.isAuthenticated.pipe(take(1), map(isAuth => !isAuth));\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { HttpTokenInterceptor } from './interceptors/http.token.interceptor';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  providers: [\r\n    { provide: HTTP_INTERCEPTORS, useClass: HttpTokenInterceptor, multi: true }\r\n  ],\r\n  declarations: []\r\n})\r\nexport class CoreModule { }\r\n","export * from './core.module';\r\nexport * from './services';\r\nexport * from './models';\r\nexport * from './interceptors';\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { JwtService } from '../services';\r\n\r\n@Injectable()\r\nexport class HttpTokenInterceptor implements HttpInterceptor {\r\n  constructor(private jwtService: JwtService) {}\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    const headersConfig = {\r\n      'Content-Type': 'application/json',\r\n      'Accept': 'application/json'\r\n    };\r\n\r\n    const token = this.jwtService.getToken();\r\n\r\n    if (token) {\r\n      headersConfig['Authorization'] = `Token ${token}`;\r\n    }\r\n\r\n    const request = req.clone({ setHeaders: headersConfig });\r\n    return next.handle(request);\r\n  }\r\n}\r\n","export * from './http.token.interceptor';\r\n","export interface ArticleListConfig {\r\n  type: string;\r\n\r\n  filters: {\r\n    tag?: string,\r\n    author?: string,\r\n    favorited?: string,\r\n    limit?: number,\r\n    offset?: number\r\n  };\r\n}\r\n","import { Profile } from './profile.model';\r\n\r\nexport interface Article {\r\n  slug: string;\r\n  title: string;\r\n  description: string;\r\n  body: string;\r\n  tagList: string[];\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  favorited: boolean;\r\n  favoritesCount: number;\r\n  author: Profile;\r\n}\r\n","import { Profile } from './profile.model';\r\n\r\nexport interface Comment {\r\n  id: number;\r\n  body: string;\r\n  createdAt: string;\r\n  author: Profile;\r\n}\r\n","export interface Errors {\r\n  errors: {[key: string]: string};\r\n}\r\n","export * from './article.model';\r\nexport * from './article-list-config.model';\r\nexport * from './comment.model';\r\nexport * from './errors.model';\r\nexport * from './profile.model';\r\nexport * from './user.model';\r\n","export interface Profile {\r\n  username: string;\r\n  bio: string;\r\n  image: string;\r\n  following: boolean;\r\n}\r\n","export interface User {\r\n  email: string;\r\n  token: string;\r\n  username: string;\r\n  bio: string;\r\n  image: string;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from '../../../environments/environment';\r\nimport { HttpHeaders, HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable ,  throwError } from 'rxjs';\r\n\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ApiService {\r\n  constructor(\r\n    private http: HttpClient\r\n  ) {}\r\n\r\n  private formatErrors(error: any) {\r\n    return  throwError(error.error);\r\n  }\r\n\r\n  get(path: string, params: HttpParams = new HttpParams()): Observable<any> {\r\n    return this.http.get(`${environment.api_url}${path}`, { params })\r\n      .pipe(catchError(this.formatErrors));\r\n  }\r\n\r\n  put(path: string, body: Object = {}): Observable<any> {\r\n    return this.http.put(\r\n      `${environment.api_url}${path}`,\r\n      JSON.stringify(body)\r\n    ).pipe(catchError(this.formatErrors));\r\n  }\r\n\r\n  post(path: string, body: Object = {}): Observable<any> {\r\n    return this.http.post(\r\n      `${environment.api_url}${path}`,\r\n      JSON.stringify(body)\r\n    ).pipe(catchError(this.formatErrors));\r\n  }\r\n\r\n  delete(path): Observable<any> {\r\n    return this.http.delete(\r\n      `${environment.api_url}${path}`\r\n    ).pipe(catchError(this.formatErrors));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ApiService } from './api.service';\r\nimport { Article, ArticleListConfig } from '../models';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ArticlesService {\r\n  constructor (\r\n    private apiService: ApiService\r\n  ) {}\r\n\r\n  query(config: ArticleListConfig): Observable<{articles: Article[], articlesCount: number}> {\r\n    // Convert any filters over to Angular's URLSearchParams\r\n    const params = {};\r\n\r\n    Object.keys(config.filters)\r\n    .forEach((key) => {\r\n      params[key] = config.filters[key];\r\n    });\r\n\r\n    return this.apiService\r\n    .get(\r\n      '/articles' + ((config.type === 'feed') ? '/feed' : ''),\r\n      new HttpParams({ fromObject: params })\r\n    );\r\n  }\r\n\r\n  get(slug): Observable<Article> {\r\n    return this.apiService.get('/articles/' + slug)\r\n      .pipe(map(data => data.article));\r\n  }\r\n\r\n  destroy(slug) {\r\n    return this.apiService.delete('/articles/' + slug);\r\n  }\r\n\r\n  save(article): Observable<Article> {\r\n    // If we're updating an existing article\r\n    if (article.slug) {\r\n      return this.apiService.put('/articles/' + article.slug, {article: article})\r\n        .pipe(map(data => data.article));\r\n\r\n    // Otherwise, create a new article\r\n    } else {\r\n      return this.apiService.post('/articles/', {article: article})\r\n        .pipe(map(data => data.article));\r\n    }\r\n  }\r\n\r\n  favorite(slug): Observable<Article> {\r\n    return this.apiService.post('/articles/' + slug + '/favorite');\r\n  }\r\n\r\n  unfavorite(slug): Observable<Article> {\r\n    return this.apiService.delete('/articles/' + slug + '/favorite');\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { UserService } from './user.service';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(\r\n    private router: Router,\r\n    private userService: UserService\r\n  ) {}\r\n\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): Observable<boolean> {\r\n\r\n    return this.userService.isAuthenticated.pipe(take(1));\r\n\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ApiService } from './api.service';\r\nimport { Comment } from '../models';\r\nimport { map } from 'rxjs/operators';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CommentsService {\r\n  constructor (\r\n    private apiService: ApiService\r\n  ) {}\r\n\r\n  add(slug, payload): Observable<Comment> {\r\n    return this.apiService\r\n    .post(\r\n      `/articles/${slug}/comments`,\r\n      { comment: { body: payload } }\r\n    ).pipe(map(data => data.comment));\r\n  }\r\n\r\n  getAll(slug): Observable<Comment[]> {\r\n    return this.apiService.get(`/articles/${slug}/comments`)\r\n      .pipe(map(data => data.comments));\r\n  }\r\n\r\n  destroy(commentId, articleSlug) {\r\n    return this.apiService\r\n           .delete(`/articles/${articleSlug}/comments/${commentId}`);\r\n  }\r\n\r\n}\r\n","export * from './api.service';\r\nexport * from './articles.service';\r\nexport * from './auth-guard.service';\r\nexport * from './comments.service';\r\nexport * from './jwt.service';\r\nexport * from './profiles.service';\r\nexport * from './tags.service';\r\nexport * from './user.service';\r\n","import { Injectable } from '@angular/core';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class JwtService {\r\n\r\n  getToken(): String {\r\n    return window.localStorage['jwtToken'];\r\n  }\r\n\r\n  saveToken(token: String) {\r\n    window.localStorage['jwtToken'] = token;\r\n  }\r\n\r\n  destroyToken() {\r\n    window.localStorage.removeItem('jwtToken');\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ApiService } from './api.service';\r\nimport { Profile } from '../models';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProfilesService {\r\n  constructor (\r\n    private apiService: ApiService\r\n  ) {}\r\n\r\n  get(username: string): Observable<Profile> {\r\n    return this.apiService.get('/profiles/' + username)\r\n      .pipe(map((data: {profile: Profile}) => data.profile));\r\n  }\r\n\r\n  follow(username: string): Observable<Profile> {\r\n    return this.apiService.post('/profiles/' + username + '/follow');\r\n  }\r\n\r\n  unfollow(username: string): Observable<Profile> {\r\n    return this.apiService.delete('/profiles/' + username + '/follow');\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ApiService } from './api.service';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TagsService {\r\n  constructor (\r\n    private apiService: ApiService\r\n  ) {}\r\n\r\n  getAll(): Observable<[string]> {\r\n    return this.apiService.get('/tags')\r\n          .pipe(map(data => data.tags));\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable ,  BehaviorSubject ,  ReplaySubject } from 'rxjs';\r\n\r\nimport { ApiService } from './api.service';\r\nimport { JwtService } from './jwt.service';\r\nimport { User } from '../models';\r\nimport { map ,  distinctUntilChanged } from 'rxjs/operators';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n  private currentUserSubject = new BehaviorSubject<User>({} as User);\r\n  public currentUser = this.currentUserSubject.asObservable().pipe(distinctUntilChanged());\r\n\r\n  private isAuthenticatedSubject = new ReplaySubject<boolean>(1);\r\n  public isAuthenticated = this.isAuthenticatedSubject.asObservable();\r\n\r\n  constructor (\r\n    private apiService: ApiService,\r\n    private jwtService: JwtService\r\n  ) {}\r\n\r\n  // Verify JWT in localstorage with server & load user's info.\r\n  // This runs once on application startup.\r\n  populate() {\r\n    // If JWT detected, attempt to get & store user's info\r\n    const token = this.jwtService.getToken();\r\n    if (token) {\r\n      this.apiService.get(\"/user\").subscribe(\r\n        (data) => {\r\n          return this.setAuth({ ...data.user, token });\r\n        },\r\n        (err) => this.purgeAuth()\r\n      );\r\n    } else {\r\n      // Remove any potential remnants of previous auth states\r\n      this.purgeAuth();\r\n    }\r\n  }\r\n\r\n  setAuth(user: User) {\r\n    // Save JWT sent from server in localstorage\r\n    this.jwtService.saveToken(user.token);\r\n    // Set current user data into observable\r\n    this.currentUserSubject.next(user);\r\n    // Set isAuthenticated to true\r\n    this.isAuthenticatedSubject.next(true);\r\n  }\r\n\r\n  purgeAuth() {\r\n    // Remove JWT from localstorage\r\n    this.jwtService.destroyToken();\r\n    // Set current user to an empty object\r\n    this.currentUserSubject.next({} as User);\r\n    // Set auth status to false\r\n    this.isAuthenticatedSubject.next(false);\r\n  }\r\n\r\n  attemptAuth(type, credentials): Observable<User> {\r\n    const route = (type === 'login') ? '/login' : '';\r\n    return this.apiService.post(`/users${route}`, {user: credentials})\r\n      .pipe(map(\r\n      data => {\r\n        this.setAuth(data.user);\r\n        return data;\r\n      }\r\n    ));\r\n  }\r\n\r\n  getCurrentUser(): User {\r\n    return this.currentUserSubject.value;\r\n  }\r\n\r\n  // Update the user on the server (email, pass, etc)\r\n  update(user): Observable<User> {\r\n    return this.apiService\r\n    .put('/user', { user })\r\n    .pipe(map(data => {\r\n      // Update the currentUser observable\r\n      this.currentUserSubject.next(data.user);\r\n      return data.user;\r\n    }));\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Resolve, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { UserService } from '../core';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HomeAuthResolver implements Resolve<boolean> {\r\n  constructor(\r\n    private router: Router,\r\n    private userService: UserService\r\n  ) {}\r\n\r\n  resolve(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): Observable<boolean> {\r\n\r\n    return this.userService.isAuthenticated.pipe(take(1));\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { HomeComponent } from './home.component';\r\nimport { HomeAuthResolver } from './home-auth-resolver.service';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HomeComponent,\r\n    resolve: {\r\n      isAuthenticated: HomeAuthResolver\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class HomeRoutingModule {}\r\n","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { ArticleListConfig, TagsService, UserService } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-home-page',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  constructor(\r\n    private router: Router,\r\n    private tagsService: TagsService,\r\n    private userService: UserService,\r\n    private cd: ChangeDetectorRef\r\n  ) {}\r\n\r\n  isAuthenticated: boolean;\r\n  listConfig: ArticleListConfig = {\r\n    type: 'all',\r\n    filters: {}\r\n  };\r\n  tags: Array<string> = [];\r\n  tagsLoaded = false;\r\n\r\n  ngOnInit() {\r\n    this.userService.isAuthenticated.subscribe(\r\n      (authenticated) => {\r\n        this.isAuthenticated = authenticated;\r\n\r\n        // set the article list accordingly\r\n        if (authenticated) {\r\n          this.setListTo('feed');\r\n        } else {\r\n          this.setListTo('all');\r\n        }\r\n        this.cd.markForCheck();\r\n      }\r\n    );\r\n\r\n    this.tagsService.getAll()\r\n    .subscribe(tags => {\r\n      this.tags = tags;\r\n      this.tagsLoaded = true;\r\n      this.cd.markForCheck();\r\n    });\r\n  }\r\n\r\n  trackByFn(index, item) {\r\n    return index;\r\n  }\r\n\r\n  setListTo(type: string = '', filters: Object = {}) {\r\n    // If feed is requested but user is not authenticated, redirect to login\r\n    if (type === 'feed' && !this.isAuthenticated) {\r\n      this.router.navigateByUrl('/login');\r\n      return;\r\n    }\r\n\r\n    // Otherwise, set the list object\r\n    this.listConfig = {type: type, filters: filters};\r\n  }\r\n}\r\n","<div class=\"home-page\">\r\n\r\n  <div class=\"banner\" *appShowAuthed=\"false\">\r\n    <div class=\"container\">\r\n      <h1 class=\"logo-font\">conduit</h1>\r\n      <p>A place to share your <i>Angular</i> knowledge.</p>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"container page\">\r\n    <div class=\"row\">\r\n\r\n      <div class=\"col-md-9\">\r\n        <div class=\"feed-toggle\">\r\n          <ul class=\"nav nav-pills outline-active\">\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\"\r\n                 [ngClass]=\"{'active': listConfig.type === 'feed'}\"\r\n                 (click)=\"setListTo('feed')\">\r\n                 Your Feed\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\"\r\n                 [ngClass]=\"{'active': listConfig.type === 'all' && !listConfig.filters.tag}\"\r\n                 (click)=\"setListTo('all')\">\r\n                 Global Feed\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\" [hidden]=\"!listConfig.filters.tag\">\r\n              <a class=\"nav-link active\">\r\n                <i class=\"ion-pound\"></i> {{ listConfig.filters.tag }}\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <app-article-list [limit]=\"10\" [config]=\"listConfig\"></app-article-list>\r\n      </div>\r\n\r\n      <div class=\"col-md-3\">\r\n        <div class=\"sidebar\">\r\n          <p>Popular Tags</p>\r\n\r\n          <div class=\"tag-list\">\r\n            <a *ngFor=\"let tag of tags; trackBy: trackByFn\"\r\n               (click)=\"setListTo('all', {tag: tag})\"\r\n               class=\"tag-default tag-pill\">\r\n               {{ tag }}\r\n            </a>\r\n          </div>\r\n\r\n          <div [hidden]=\"tagsLoaded\">\r\n            Loading tags...\r\n          </div>\r\n\r\n          <div [hidden]=\"!tagsLoaded || tags.length > 0\">\r\n            No tags are here... yet.\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { HomeComponent } from './home.component';\r\nimport { SharedModule } from '../shared';\r\nimport { HomeRoutingModule } from './home-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    HomeRoutingModule\r\n  ],\r\n  declarations: [\r\n    HomeComponent\r\n  ],\r\n  providers: [\r\n  ]\r\n})\r\nexport class HomeModule {}\r\n","import { Component, Input, ChangeDetectorRef, ChangeDetectionStrategy } from '@angular/core';\r\n\r\nimport { Article, ArticleListConfig, ArticlesService } from '../../core';\r\n@Component({\r\n  selector: 'app-article-list',\r\n  styleUrls: ['article-list.component.css'],\r\n  templateUrl: './article-list.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ArticleListComponent {\r\n  constructor (\r\n    private articlesService: ArticlesService,\r\n    private cd: ChangeDetectorRef\r\n  ) {}\r\n\r\n  @Input() limit: number;\r\n  @Input()\r\n  set config(config: ArticleListConfig) {\r\n    if (config) {\r\n      this.query = config;\r\n      this.currentPage = 1;\r\n      this.runQuery();\r\n    }\r\n  }\r\n\r\n  query: ArticleListConfig;\r\n  results: Article[];\r\n  loading = false;\r\n  currentPage = 1;\r\n  totalPages: Array<number> = [1];\r\n\r\n  setPageTo(pageNumber) {\r\n    this.currentPage = pageNumber;\r\n    this.runQuery();\r\n  }\r\n\r\n  trackByFn(index, item) {\r\n    return index;\r\n  }\r\n\r\n  runQuery() {\r\n    this.loading = true;\r\n    this.results = [];\r\n\r\n    // Create limit and offset filter (if necessary)\r\n    if (this.limit) {\r\n      this.query.filters.limit = this.limit;\r\n      this.query.filters.offset =  (this.limit * (this.currentPage - 1));\r\n    }\r\n\r\n    this.articlesService.query(this.query)\r\n    .subscribe(data => {\r\n      this.loading = false;\r\n      this.results = data.articles;\r\n\r\n      // Used from http://www.jstips.co/en/create-range-0...n-easily-using-one-line/\r\n      this.totalPages = Array.from(new Array(Math.ceil(data.articlesCount / this.limit)), (val, index) => index + 1);\r\n      this.cd.markForCheck();\r\n    });\r\n  }\r\n}\r\n","<app-article-preview\r\n  *ngFor=\"let article of results; trackBy: trackByFn\"\r\n  [article]=\"article\">\r\n</app-article-preview>\r\n\r\n<div class=\"app-article-preview\"\r\n  [hidden]=\"!loading\">\r\n  Loading articles...\r\n</div>\r\n\r\n<div class=\"app-article-preview\"\r\n  [hidden]=\"loading || results.length\">\r\n  No articles are here... yet.\r\n</div>\r\n\r\n<nav [hidden]=\"loading || totalPages.length <= 1\">\r\n  <ul class=\"pagination\">\r\n\r\n    <li class=\"page-item\"\r\n      [ngClass]=\"{'active': pageNumber === currentPage}\"\r\n      *ngFor=\"let pageNumber of totalPages; trackBy: trackByFn\"\r\n      (click)=\"setPageTo(pageNumber)\">\r\n\r\n      <a class=\"page-link\" >{{ pageNumber }}</a>\r\n\r\n    </li>\r\n\r\n  </ul>\r\n</nav>\r\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\r\n\r\nimport { Article } from '../../core';\r\n\r\n@Component({\r\n  selector: 'app-article-meta',\r\n  templateUrl: './article-meta.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ArticleMetaComponent {\r\n  @Input() article: Article;\r\n}\r\n","<div class=\"article-meta\">\r\n  <a [routerLink]=\"['/profile', article.author.username]\">\r\n    <img [src]=\"article.author.image || 'https://static.productionready.io/images/smiley-cyrus.jpg'\" alt=\"author image\" />\r\n  </a>\r\n\r\n  <div class=\"info\">\r\n    <a class=\"author\"\r\n      [routerLink]=\"['/profile', article.author.username]\">\r\n      {{ article.author.username }}\r\n    </a>\r\n    <span class=\"date\">\r\n      {{ article.createdAt | date: 'longDate' }}\r\n    </span>\r\n  </div>\r\n\r\n  <ng-content></ng-content>\r\n</div>\r\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\r\n\r\nimport { Article } from '../../core';\r\n\r\n@Component({\r\n  selector: 'app-article-preview',\r\n  templateUrl: './article-preview.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ArticlePreviewComponent {\r\n  @Input() article: Article;\r\n\r\n  trackByFn(index, item) {\r\n    return index;\r\n  }\r\n\r\n  onToggleFavorite(favorited: boolean) {\r\n    this.article['favorited'] = favorited;\r\n\r\n    if (favorited) {\r\n      this.article['favoritesCount']++;\r\n    } else {\r\n      this.article['favoritesCount']--;\r\n    }\r\n  }\r\n}\r\n","<div class=\"article-preview\">\r\n  <app-article-meta [article]=\"article\">\r\n    <app-favorite-button\r\n      [article]=\"article\"\r\n      (toggle)=\"onToggleFavorite($event)\"\r\n      class=\"pull-xs-right\">\r\n      {{article.favoritesCount}}\r\n    </app-favorite-button>\r\n  </app-article-meta>\r\n\r\n  <a [routerLink]=\"['/article', article.slug]\" class=\"preview-link\">\r\n    <h1>{{ article.title }}</h1>\r\n    <p>{{ article.description }}</p>\r\n    <span>Read more...</span>\r\n    <ul class=\"tag-list\">\r\n      <li class=\"tag-default tag-pill tag-outline\"\r\n        *ngFor=\"let tag of article.tagList; trackBy: trackByFn\">\r\n        {{ tag }}\r\n      </li>\r\n    </ul>\r\n  </a>\r\n</div>\r\n","export * from './article-list.component';\r\nexport * from './article-meta.component';\r\nexport * from './article-preview.component';\r\n","import { Component, EventEmitter, Input, Output, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { Article, ArticlesService, UserService } from '../../core';\r\nimport { of } from 'rxjs';\r\nimport { concatMap ,  tap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-favorite-button',\r\n  templateUrl: './favorite-button.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FavoriteButtonComponent {\r\n  constructor(\r\n    private articlesService: ArticlesService,\r\n    private router: Router,\r\n    private userService: UserService,\r\n    private cd: ChangeDetectorRef\r\n  ) {}\r\n\r\n  @Input() article: Article;\r\n  @Output() toggle = new EventEmitter<boolean>();\r\n  isSubmitting = false;\r\n\r\n  toggleFavorite() {\r\n    this.isSubmitting = true;\r\n\r\n    this.userService.isAuthenticated.pipe(concatMap(\r\n      (authenticated) => {\r\n        // Not authenticated? Push to login screen\r\n        if (!authenticated) {\r\n          this.router.navigateByUrl('/login');\r\n          return of(null);\r\n        }\r\n\r\n        // Favorite the article if it isn't favorited yet\r\n        if (!this.article.favorited) {\r\n          return this.articlesService.favorite(this.article.slug)\r\n          .pipe(tap(\r\n            data => {\r\n              this.isSubmitting = false;\r\n              this.toggle.emit(true);\r\n            },\r\n            err => this.isSubmitting = false\r\n          ));\r\n\r\n        // Otherwise, unfavorite the article\r\n        } else {\r\n          return this.articlesService.unfavorite(this.article.slug)\r\n          .pipe(tap(\r\n            data => {\r\n              this.isSubmitting = false;\r\n              this.toggle.emit(false);\r\n            },\r\n            err => this.isSubmitting = false\r\n          ));\r\n        }\r\n\r\n      }\r\n    )).subscribe(() => {\r\n      this.cd.markForCheck();\r\n    });\r\n  }\r\n}\r\n","<button class=\"btn btn-sm\"\r\n [ngClass]=\"{ 'disabled' : isSubmitting,\r\n              'btn-outline-primary': !article.favorited,\r\n              'btn-primary': article.favorited }\"\r\n (click)=\"toggleFavorite()\">\r\n  <i class=\"ion-heart\"></i> <ng-content></ng-content>\r\n</button>\r\n","import { Component, EventEmitter, Input, Output, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { Profile, ProfilesService, UserService } from '../../core';\r\nimport { concatMap ,  tap } from 'rxjs/operators';\r\nimport { of } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-follow-button',\r\n  templateUrl: './follow-button.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FollowButtonComponent {\r\n  constructor(\r\n    private profilesService: ProfilesService,\r\n    private router: Router,\r\n    private userService: UserService,\r\n    private cd: ChangeDetectorRef\r\n  ) {}\r\n\r\n  @Input() profile: Profile;\r\n  @Output() toggle = new EventEmitter<boolean>();\r\n  isSubmitting = false;\r\n\r\n  toggleFollowing() {\r\n    this.isSubmitting = true;\r\n    // TODO: remove nested subscribes, use mergeMap\r\n\r\n    this.userService.isAuthenticated.pipe(concatMap(\r\n      (authenticated) => {\r\n        // Not authenticated? Push to login screen\r\n        if (!authenticated) {\r\n          this.router.navigateByUrl('/login');\r\n          return of(null);\r\n        }\r\n\r\n        // Follow this profile if we aren't already\r\n        if (!this.profile.following) {\r\n          return this.profilesService.follow(this.profile.username)\r\n          .pipe(tap(\r\n            data => {\r\n              this.isSubmitting = false;\r\n              this.toggle.emit(true);\r\n            },\r\n            err => this.isSubmitting = false\r\n          ));\r\n\r\n        // Otherwise, unfollow this profile\r\n        } else {\r\n          return this.profilesService.unfollow(this.profile.username)\r\n          .pipe(tap(\r\n            data => {\r\n              this.isSubmitting = false;\r\n              this.toggle.emit(false);\r\n            },\r\n            err => this.isSubmitting = false\r\n          ));\r\n        }\r\n      }\r\n    )).subscribe(() => {\r\n      this.cd.markForCheck();\r\n    });\r\n  }\r\n}\r\n","<button\r\n  class=\"btn btn-sm action-btn\"\r\n  [ngClass]=\"{ 'disabled': isSubmitting,\r\n               'btn-outline-secondary': !profile.following,\r\n               'btn-secondary': profile.following }\"\r\n  (click)=\"toggleFollowing()\">\r\n  <i class=\"ion-plus-round\"></i>\r\n  &nbsp;\r\n  {{ profile.following ? 'Unfollow' : 'Follow' }} {{ profile.username }}\r\n</button>\r\n","export * from './favorite-button.component';\r\nexport * from './follow-button.component';\r\n","export * from './article-helpers';\r\nexport * from './buttons';\r\nexport * from './layout';\r\nexport * from './list-errors.component';\r\nexport * from './shared.module';\r\nexport * from './show-authed.directive';\r\n","import { Component, ChangeDetectionStrategy } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-layout-footer',\r\n  templateUrl: './footer.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FooterComponent {\r\n  today: number = Date.now();\r\n}\r\n","<footer>\r\n  <div class=\"container\">\r\n    <a class=\"logo-font\" routerLink=\"/\">conduit</a>\r\n    <span class=\"attribution\">\r\n      &copy; {{ today | date: 'yyyy' }}.\r\n      An interactive learning project from <a href=\"https://thinkster.io\">Thinkster</a>.\r\n      Code licensed under MIT.\r\n    </span>\r\n  </div>\r\n</footer>\r\n","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\n\r\nimport { User, UserService } from '../../core';\r\n\r\n@Component({\r\n  selector: 'app-layout-header',\r\n  templateUrl: './header.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n  constructor(\r\n    private userService: UserService,\r\n    private cd: ChangeDetectorRef\r\n  ) {}\r\n\r\n  currentUser: User;\r\n\r\n  ngOnInit() {\r\n    this.userService.currentUser.subscribe(\r\n      (userData) => {\r\n        this.currentUser = userData;\r\n        this.cd.markForCheck();\r\n      }\r\n    );\r\n  }\r\n}\r\n","<nav class=\"navbar navbar-light\">\r\n  <div class=\"container\">\r\n    <a class=\"navbar-brand\" routerLink=\"/\">conduit</a>\r\n\r\n    <!-- Show this for logged out users -->\r\n    <ul *appShowAuthed=\"false\"\r\n      class=\"nav navbar-nav pull-xs-right\">\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/\">\r\n          Home\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/login\"\r\n          routerLinkActive=\"active\">\r\n          Sign in\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/register\"\r\n          routerLinkActive=\"active\">\r\n          Sign up\r\n        </a>\r\n      </li>\r\n\r\n    </ul>\r\n\r\n    <!-- Show this for logged in users -->\r\n    <ul *appShowAuthed=\"true\"\r\n      class=\"nav navbar-nav pull-xs-right\">\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/\"\r\n          routerLinkActive=\"active\"\r\n          [routerLinkActiveOptions]=\"{ exact: true }\">\r\n          Home\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/editor\"\r\n          routerLinkActive=\"active\">\r\n          <i class=\"ion-compose\"></i>&nbsp;New Article\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/settings\"\r\n          routerLinkActive=\"active\">\r\n          <i class=\"ion-gear-a\"></i>&nbsp;Settings\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          [routerLink]=\"['/profile', currentUser.username]\"\r\n          routerLinkActive=\"active\">\r\n          <img [src]=\"currentUser.image || 'https://static.productionready.io/images/smiley-cyrus.jpg'\" *ngIf=\"currentUser.image\" class=\"user-pic\" alt=\"user image\" />\r\n          {{ currentUser.username }}\r\n        </a>\r\n      </li>\r\n\r\n    </ul>\r\n\r\n  </div>\r\n</nav>\r\n","export * from './footer.component';\r\nexport * from './header.component';\r\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\r\n\r\nimport { Errors } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-list-errors',\r\n  templateUrl: './list-errors.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ListErrorsComponent {\r\n  formattedErrors: Array<string> = [];\r\n\r\n  @Input()\r\n  set errors(errorList: Errors) {\r\n    this.formattedErrors = Object.keys(errorList.errors || {})\r\n      .map(key => `${key} ${errorList.errors[key]}`);\r\n  }\r\n\r\n  get errorList() { return this.formattedErrors; }\r\n\r\n  trackByFn(index, item) {\r\n    return index;\r\n  }\r\n}\r\n","<ul class=\"error-messages\" *ngIf=\"errorList\">\r\n  <li *ngFor=\"let error of errorList; trackBy: trackByFn\">\r\n    {{ error }}\r\n  </li>\r\n</ul>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { ArticleListComponent, ArticleMetaComponent, ArticlePreviewComponent } from './article-helpers';\r\nimport { FavoriteButtonComponent, FollowButtonComponent } from './buttons';\r\nimport { ListErrorsComponent } from './list-errors.component';\r\nimport { ShowAuthedDirective } from './show-authed.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    RouterModule\r\n  ],\r\n  declarations: [\r\n    ArticleListComponent,\r\n    ArticleMetaComponent,\r\n    ArticlePreviewComponent,\r\n    FavoriteButtonComponent,\r\n    FollowButtonComponent,\r\n    ListErrorsComponent,\r\n    ShowAuthedDirective\r\n  ],\r\n  exports: [\r\n    ArticleListComponent,\r\n    ArticleMetaComponent,\r\n    ArticlePreviewComponent,\r\n    CommonModule,\r\n    FavoriteButtonComponent,\r\n    FollowButtonComponent,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    ListErrorsComponent,\r\n    RouterModule,\r\n    ShowAuthedDirective\r\n  ]\r\n})\r\nexport class SharedModule {}\r\n","import {\r\n  Directive,\r\n  Input,\r\n  OnInit,\r\n  TemplateRef,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { UserService } from '../core';\r\n\r\n@Directive({ selector: '[appShowAuthed]' })\r\nexport class ShowAuthedDirective implements OnInit {\r\n  constructor(\r\n    private templateRef: TemplateRef<any>,\r\n    private userService: UserService,\r\n    private viewContainer: ViewContainerRef\r\n  ) {}\r\n\r\n  condition: boolean;\r\n\r\n  ngOnInit() {\r\n    this.userService.isAuthenticated.subscribe(\r\n      (isAuthenticated) => {\r\n        if (isAuthenticated && this.condition || !isAuthenticated && !this.condition) {\r\n          this.viewContainer.createEmbeddedView(this.templateRef);\r\n        } else {\r\n          this.viewContainer.clear();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  @Input() set appShowAuthed(condition: boolean) {\r\n    this.condition = condition;\r\n  }\r\n\r\n}\r\n","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  api_url: 'https://api.realworld.io/api'\r\n};\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nconst bootstrapPromise =  platformBrowserDynamic().bootstrapModule(AppModule);\r\n\r\n// Logging bootstrap information\r\nbootstrapPromise.then(success => console.log(`Bootstrap success`))\r\n  .catch(err => console.error(err));\r\n"],"names":["RouterModule","QuicklinkModule","QuicklinkStrategy","routes","path","loadChildren","then","m","SettingsModule","ProfileModule","EditorModule","ArticleModule","AppRoutingModule","_defineProperty","forRoot","preloadingStrategy","imports","i1","exports","UserService","AppComponent","constructor","userService","ngOnInit","populate","i0","ÉµÉµdirectiveInject","selectors","decls","vars","template","AppComponent_Template","rf","ctx","ÉµÉµelement","BrowserModule","AuthModule","HomeModule","FooterComponent","HeaderComponent","SharedModule","CoreModule","ServiceWorkerModule","environment","AppModule","bootstrap","register","enabled","production","declarations","AuthComponent","NoAuthGuard","component","canActivate","AuthRoutingModule","forChild","ChangeDetectorRef","FormBuilder","FormControl","Validators","ActivatedRoute","Router","ÉµÉµelementStart","ÉµÉµtext","ÉµÉµelementEnd","ÉµÉµproperty","ÉµÉµpureFunction0","_c0","_c1","route","router","fb","cd","errors","authForm","group","required","url","subscribe","data","authType","length","title","addControl","markForCheck","submitForm","isSubmitting","credentials","value","attemptAuth","navigateByUrl","err","i2","i3","consts","AuthComponent_Template","ÉµÉµtemplate","AuthComponent_a_7_Template","AuthComponent_a_8_Template","ÉµÉµlistener","AuthComponent_Template_form_ngSubmit_10_listener","AuthComponent_input_13_Template","ÉµÉµadvance","ÉµÉµtextInterpolate","valid","ÉµÉµtextInterpolate1","ActivatedRouteSnapshot","RouterStateSnapshot","map","take","state","isAuthenticated","pipe","isAuth","ÉµÉµinject","factory","Éµfac","CommonModule","HTTP_INTERCEPTORS","HttpTokenInterceptor","provide","useClass","multi","HttpEvent","HttpHandler","HttpRequest","JwtService","jwtService","intercept","req","next","headersConfig","token","getToken","request","clone","setHeaders","handle","HttpClient","HttpParams","throwError","catchError","ApiService","http","formatErrors","error","get","params","api_url","put","body","JSON","stringify","post","delete","providedIn","ArticlesService","apiService","query","config","Object","keys","filters","forEach","key","type","fromObject","slug","article","destroy","save","favorite","unfavorite","AuthGuard","CommentsService","add","payload","comment","getAll","comments","commentId","articleSlug","window","localStorage","saveToken","destroyToken","removeItem","ProfilesService","username","profile","follow","unfollow","TagsService","tags","BehaviorSubject","ReplaySubject","distinctUntilChanged","currentUserSubject","asObservable","isAuthenticatedSubject","setAuth","user","purgeAuth","getCurrentUser","update","HomeAuthResolver","resolve","HomeComponent","HomeRoutingModule","HomeComponent_a_23_Template_a_click_0_listener","restoredCtx","ÉµÉµrestoreView","_r4","tag_r2","$implicit","ctx_r3","ÉµÉµnextContext","ÉµÉµresetView","setListTo","tag","tagsService","authenticated","tagsLoaded","trackByFn","index","item","listConfig","HomeComponent_Template","HomeComponent_div_1_Template","HomeComponent_Template_a_click_8_listener","HomeComponent_Template_a_click_11_listener","HomeComponent_a_23_Template","ÉµÉµpureFunction1","article_r2","ArticleListComponent_li_7_Template_li_click_0_listener","_r5","pageNumber_r3","ctx_r4","setPageTo","ctx_r1","currentPage","ArticleListComponent","articlesService","runQuery","pageNumber","loading","results","limit","offset","articles","totalPages","Array","from","Math","ceil","articlesCount","val","inputs","ArticleListComponent_Template","ArticleListComponent_app_article_preview_0_Template","ArticleListComponent_li_7_Template","ArticleMetaComponent","ngContentSelectors","ArticleMetaComponent_Template","ÉµÉµprojection","author","image","ÉµÉµsanitizeUrl","ÉµÉµpipeBind2","createdAt","tag_r1","ArticlePreviewComponent","onToggleFavorite","favorited","ArticlePreviewComponent_Template","ArticlePreviewComponent_Template_app_favorite_button_toggle_2_listener","$event","ArticlePreviewComponent_li_12_Template","favoritesCount","description","tagList","EventEmitter","of","concatMap","tap","FavoriteButtonComponent","toggleFavorite","toggle","emit","outputs","FavoriteButtonComponent_Template","FavoriteButtonComponent_Template_button_click_0_listener","ÉµÉµpureFunction3","FollowButtonComponent","profilesService","toggleFollowing","following","FollowButtonComponent_Template","FollowButtonComponent_Template_button_click_0_listener","ÉµÉµtextInterpolate2","Date","now","FooterComponent_Template","today","ctx_r2","currentUser","HeaderComponent_ul_5_img_14_Template","userData","HeaderComponent_Template","HeaderComponent_ul_4_Template","HeaderComponent_ul_5_Template","error_r2","ListErrorsComponent_ul_0_li_1_Template","ctx_r0","errorList","ListErrorsComponent","formattedErrors","ListErrorsComponent_Template","ListErrorsComponent_ul_0_Template","FormsModule","ReactiveFormsModule","HttpClientModule","ShowAuthedDirective","TemplateRef","ViewContainerRef","templateRef","viewContainer","condition","createEmbeddedView","clear","appShowAuthed","enableProdMode","bootstrapPromise","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","success","console","log","catch"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}