import{$ as we,A as l,Aa as Ne,B as v,C as j,Ca as Oe,D as f,Da as _e,F as A,Fa as Le,G as me,Ga as xe,H as J,Ha as Pe,I as u,Ia as He,J as a,K as c,L as k,La as Ue,M as fe,N as F,Na as R,O as he,P as d,Q as ge,R as L,S as X,T as ee,X as $,Y as ve,Z as ye,_ as be,a as ce,aa as Se,c as V,ca as Ce,d as W,da as ke,e as N,ea as Z,f as I,g as T,ga as K,h as z,ha as Me,ia as Ee,ja as S,k as C,ka as te,l as O,ma as re,n as y,na as E,o as m,oa as M,p as q,q as p,r as _,s as le,sa as Ie,t as ue,ta as Te,u as pe,ua as je,v as de,va as Ae,wa as Fe,x as G,xa as Re,ya as ie,za as De}from"./chunk-U3LDUPVL.js";var Be=(()=>{class e{userService;constructor(t){this.userService=t}ngOnInit(){this.userService.populate()}static \u0275fac=function(r){return new(r||e)(v(M))};static \u0275cmp=j({type:e,selectors:[["app-root"]],standalone:!1,decls:3,vars:0,template:function(r,i){r&1&&k(0,"app-layout-header")(1,"router-outlet")(2,"app-layout-footer")},dependencies:[Ee,je,Fe],encapsulation:2,changeDetection:0})}return e})();var at=()=>["/login"],ct=()=>["/register"];function lt(e,n){e&1&&(a(0,"a",14),d(1,"Have an account?"),c()),e&2&&u("routerLink",X(1,at))}function ut(e,n){e&1&&(a(0,"a",14),d(1,"Need an account?"),c()),e&2&&u("routerLink",X(1,ct))}function pt(e,n){e&1&&k(0,"input",15)}var ne=(()=>{class e{route;router;userService;fb;cd;authType="";title="";errors={errors:{}};isSubmitting=!1;authForm;constructor(t,r,i,o,s){this.route=t,this.router=r,this.userService=i,this.fb=o,this.cd=s,this.authForm=this.fb.group({email:["",ie.required],password:["",ie.required]})}ngOnInit(){this.route.url.subscribe(t=>{this.authType=t[t.length-1].path,this.title=this.authType==="login"?"Sign in":"Sign up",this.authType==="register"&&this.authForm.addControl("username",new Oe),this.cd.markForCheck()})}submitForm(){this.isSubmitting=!0,this.errors={errors:{}};let t=this.authForm.value;this.userService.attemptAuth(this.authType,t).subscribe(r=>this.router.navigateByUrl("/"),r=>{this.errors=r,this.isSubmitting=!1,this.cd.markForCheck()})}static \u0275fac=function(r){return new(r||e)(v(Me),v(S),v(M),v(Pe),v($))};static \u0275cmp=j({type:e,selectors:[["app-auth-page"]],standalone:!1,decls:20,vars:9,consts:[[1,"auth-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],[3,"routerLink",4,"ngIf"],[3,"errors"],[3,"ngSubmit","formGroup"],[3,"disabled"],[1,"form-group"],["formControlName","username","placeholder","Username","class","form-control form-control-lg","type","text",4,"ngIf"],["formControlName","email","placeholder","Email","type","text",1,"form-control","form-control-lg"],["formControlName","password","placeholder","Password","type","password",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-lg","btn-primary","pull-xs-right",3,"disabled"],[3,"routerLink"],["formControlName","username","placeholder","Username","type","text",1,"form-control","form-control-lg"]],template:function(r,i){r&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),d(5),c(),a(6,"p",4),A(7,lt,2,2,"a",5)(8,ut,2,2,"a",5),c(),k(9,"app-list-errors",6),a(10,"form",7),F("ngSubmit",function(){return i.submitForm()}),a(11,"fieldset",8)(12,"fieldset",9),A(13,pt,1,0,"input",10),c(),a(14,"fieldset",9),k(15,"input",11),c(),a(16,"fieldset",9),k(17,"input",12),c(),a(18,"button",13),d(19),c()()()()()()()),r&2&&(l(5),ge(i.title),l(2),u("ngIf",i.authType==="register"),l(),u("ngIf",i.authType==="login"),l(),u("errors",i.errors),l(),u("formGroup",i.authForm),l(),u("disabled",i.isSubmitting),l(2),u("ngIf",i.authType==="register"),l(5),u("disabled",!i.authForm.valid),l(),L(" ",i.title," "))},dependencies:[Se,_e,Re,De,Ne,Le,xe,He,te],encapsulation:2,changeDetection:0})}return e})();var P=(()=>{class e{router;userService;constructor(t,r){this.router=t,this.userService=r}canActivate(t,r){return this.userService.isAuthenticated.pipe(C(1),I(i=>!i))}static \u0275fac=function(r){return new(r||e)(p(S),p(M))};static \u0275prov=y({token:e,factory:e.\u0275fac})}return e})();var dt=[{path:"login",component:ne,canActivate:[P]},{path:"register",component:ne,canActivate:[P]}],Ve=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=f({type:e});static \u0275inj=m({imports:[E.forChild(dt),E]})}return e})();var We=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=f({type:e});static \u0275inj=m({providers:[P],imports:[R,Ve]})}return e})();var qe=e=>({active:e});function mt(e,n){e&1&&(a(0,"div",18)(1,"div",19)(2,"h1",20),d(3,"conduit"),c(),a(4,"p"),d(5,"A place to share your "),a(6,"i"),d(7,"Angular"),c(),d(8," knowledge."),c()()())}function ft(e,n){if(e&1){let t=fe();a(0,"a",21),F("click",function(){let i=ue(t).$implicit,o=he();return pe(o.setListTo("all",{tag:i}))}),d(1),c()}if(e&2){let t=n.$implicit;l(),L(" ",t," ")}}var Ge=(()=>{class e{router;tagsService;userService;cd;constructor(t,r,i,o){this.router=t,this.tagsService=r,this.userService=i,this.cd=o}isAuthenticated;listConfig={type:"all",filters:{}};tags=[];tagsLoaded=!1;ngOnInit(){this.userService.isAuthenticated.subscribe(t=>{this.isAuthenticated=t,t?this.setListTo("feed"):this.setListTo("all"),this.cd.markForCheck()}),this.tagsService.getAll().subscribe(t=>{this.tags=t,this.tagsLoaded=!0,this.cd.markForCheck()})}trackByFn(t,r){return t}setListTo(t="",r={}){if(t==="feed"&&!this.isAuthenticated){this.router.navigateByUrl("/login");return}this.listConfig={type:t,filters:r}}static \u0275fac=function(r){return new(r||e)(v(S),v(Ie),v(M),v($))};static \u0275cmp=j({type:e,selectors:[["app-home-page"]],standalone:!1,decls:28,vars:15,consts:[[1,"home-page"],["class","banner",4,"appShowAuthed"],[1,"container","page"],[1,"row"],[1,"col-md-9"],[1,"feed-toggle"],[1,"nav","nav-pills","outline-active"],[1,"nav-item"],[1,"nav-link",3,"click","ngClass"],[1,"nav-item",3,"hidden"],[1,"nav-link","active"],[1,"ion-pound"],[3,"limit","config"],[1,"col-md-3"],[1,"sidebar"],[1,"tag-list"],["class","tag-default tag-pill",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[1,"banner"],[1,"container"],[1,"logo-font"],[1,"tag-default","tag-pill",3,"click"]],template:function(r,i){r&1&&(a(0,"div",0),A(1,mt,9,0,"div",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),F("click",function(){return i.setListTo("feed")}),d(9," Your Feed "),c()(),a(10,"li",7)(11,"a",8),F("click",function(){return i.setListTo("all")}),d(12," Global Feed "),c()(),a(13,"li",9)(14,"a",10),k(15,"i",11),d(16),c()()()(),k(17,"app-article-list",12),c(),a(18,"div",13)(19,"div",14)(20,"p"),d(21,"Popular Tags"),c(),a(22,"div",15),A(23,ft,2,1,"a",16),c(),a(24,"div",17),d(25," Loading tags... "),c(),a(26,"div",17),d(27," No tags are here... yet. "),c()()()()()()),r&2&&(l(),u("appShowAuthed",!1),l(7),u("ngClass",ee(11,qe,i.listConfig.type==="feed")),l(3),u("ngClass",ee(13,qe,i.listConfig.type==="all"&&!i.listConfig.filters.tag)),l(2),u("hidden",!i.listConfig.filters.tag),l(3),L(" ",i.listConfig.filters.tag," "),l(),u("limit",10)("config",i.listConfig),l(6),u("ngForOf",i.tags)("ngForTrackBy",i.trackByFn),l(),u("hidden",i.tagsLoaded),l(2),u("hidden",!i.tagsLoaded||i.tags.length>0))},dependencies:[Ue,be,we,Ae],styles:[".nav-link[_ngcontent-%COMP%], .tag-pill[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0})}return e})();var $e=(()=>{class e{router;userService;constructor(t,r){this.router=t,this.userService=r}resolve(t,r){return this.userService.isAuthenticated.pipe(C(1))}static \u0275fac=function(r){return new(r||e)(p(S),p(M))};static \u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ht=[{path:"",component:Ge,resolve:{isAuthenticated:$e}}],Ze=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=f({type:e});static \u0275inj=m({imports:[E.forChild(ht),E]})}return e})();var Ke=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=f({type:e});static \u0275inj=m({imports:[R,Ze]})}return e})();var gt=[],Y=(()=>{class e{constructor(t){this.router=t,this.trees=gt}add(t){this.trees.push(t)}shouldPrefetch(t){let r=this.router.parseUrl(t);return this.trees.some(yt.bind(null,r))}static{this.\u0275fac=function(r){return new(r||e)(p(S))}}static{this.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function vt(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>n[t]===e[t])}function yt(e,n){return vt(n.queryParams,e.queryParams)&&se(n.root,e.root,e.root.segments)}function se(e,n,t){if(e.segments.length>t.length){let r=e.segments.slice(0,t.length);return!(!oe(r,t)||n.hasChildren())}else if(e.segments.length===t.length){if(!oe(e.segments,t))return!1;if(!n.hasChildren())return!0;for(let r in n.children){if(!e.children[r])break;if(se(e.children[r],n.children[r],n.children[r].segments))return!0}return!1}else{let r=t.slice(0,e.segments.length),i=t.slice(e.segments.length);return!oe(e.segments,r)||!e.children[K]?!1:se(e.children[K],n,i)}}function oe(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path||t.path.startsWith(":")||n[r].path.startsWith(":"))}var ze=typeof window<"u"?window.requestIdleCallback||function(e){let n=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-n))}})},1)}:()=>{},Qe=()=>typeof window<"u"?!!window.IntersectionObserver:!1,Ye=new q("LinkHandler"),bt=(()=>{class e{constructor(t,r,i){this.loader=t,this.registry=r,this.ngZone=i,this.elementLink=new Map,this.observer=Qe()?new IntersectionObserver(o=>{o.forEach(s=>{if(this.observer&&s.isIntersecting){let g=s.target,w=this.elementLink.get(g);if(!w||!w.urlTree)return;this.registry.add(w.urlTree),this.observer.unobserve(g),ze(()=>{this.loader.preload().subscribe(()=>{})})}})}):null}register(t){this.elementLink.set(t.element,t),this.ngZone.runOutsideAngular(()=>{this.observer&&this.observer.observe(t.element)})}unregister(t){this.observer&&this.elementLink.has(t.element)&&(this.observer.unobserve(t.element),this.elementLink.delete(t.element))}supported(){return Qe()}static{this.\u0275fac=function(r){return new(r||e)(p(re),p(Y),p(G))}}static{this.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),wt=(()=>{class e{constructor(t,r){this.loader=t,this.registry=r}register(t){this.registry.add(t.urlTree),ze(()=>this.loader.preload().subscribe(()=>{}))}unregister(t){}supported(){return!0}static{this.\u0275fac=function(r){return new(r||e)(p(re),p(Y))}}static{this.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var St=(e,n)=>{e=e.slice();let t=new Map,r=new Set;for(;e.length;){let s=e.shift();if(!s)continue;if(r.add(s),s===n)break;let g=s.children||[],w=s._loadedRoutes||[];for(let h of w)h&&h.children&&(g=g.concat(h.children));g.forEach(h=>{r.has(h)||(t.set(h,s),e.push(h))})}let i="",o=n;for(;o;)Ct(o)?i=`/${o.path}${i}`:i=`/(${o.outlet}:${o.path}${i})`,o=t.get(o);return i.replace(/[\/]+/,"/")};function Ct(e){return e.outlet===K||!e.outlet}var ae=(()=>{class e{constructor(t,r){this.registry=t,this.router=r,this.loading=new Set}preload(t,r){if(this.loading.has(t))return N;let i=typeof navigator<"u"?navigator.connection:void 0;if(i&&((i.effectiveType||"").includes("2g")||i.saveData))return N;if(t.data&&t.data.preload===!1)return N;let o=St(this.router.config,t);return this.registry.shouldPrefetch(o)?(this.loading.add(t),r()):N}static{this.\u0275fac=function(r){return new(r||e)(p(Y),p(S))}}static{this.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),kt=[{provide:Ye,useClass:bt,multi:!0},{provide:Ye,useClass:wt,multi:!0},Y,ae],Je=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=f({type:e})}static{this.\u0275inj=m({providers:kt})}}return e})();var Mt=[{path:"settings",loadChildren:()=>import("./settings.module-YEWYPQYW.js").then(e=>e.SettingsModule)},{path:"profile",loadChildren:()=>import("./profile.module-VK24BLLO.js").then(e=>e.ProfileModule)},{path:"editor",loadChildren:()=>import("./editor.module-BY2QDQ6P.js").then(e=>e.EditorModule)},{path:"article",loadChildren:()=>import("./article.module-DIGL7SEY.js").then(e=>e.ArticleModule)}],Xe=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=f({type:e});static \u0275inj=m({imports:[Je,E.forRoot(Mt,{preloadingStrategy:ae}),E]})}return e})();var H="Service workers are disabled or not supported by this browser",D=class{serviceWorker;worker;registration;events;constructor(n,t){if(this.serviceWorker=n,!n)this.worker=this.events=this.registration=new V(r=>r.error(new Error(H)));else{let r=null,i=new W;this.worker=new V(h=>(r!==null&&h.next(r),i.subscribe(B=>h.next(B))));let o=()=>{let{controller:h}=n;h!==null&&(r=h,i.next(r))};n.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(O(()=>n.getRegistration()));let s=new W;this.events=s.asObservable();let g=h=>{let{data:B}=h;B?.type&&s.next(B)};n.addEventListener("message",g),t?.get(J,null,{optional:!0})?.onDestroy(()=>{n.removeEventListener("controllerchange",o),n.removeEventListener("message",g)})}}postMessage(n,t){return new Promise(r=>{this.worker.pipe(C(1)).subscribe(i=>{i.postMessage(ce({action:n},t)),r()})})}postMessageWithOperation(n,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(n,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(n){let t;return typeof n=="string"?t=r=>r.type===n:t=r=>n.includes(r.type),this.events.pipe(z(t))}nextEventOfType(n){return this.eventsOfType(n).pipe(C(1))}waitForOperationCompleted(n){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(z(i=>i.nonce===n),C(1),I(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},tt=(()=>{class e{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new W;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=T,this.notificationClicks=T,this.subscription=T;return}this.messages=this.sw.eventsOfType("PUSH").pipe(I(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(I(i=>i.data)),this.pushManager=this.sw.registration.pipe(I(i=>i.pushManager));let r=this.pushManager.pipe(O(i=>i.getSubscription()));this.subscription=new V(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(H));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,g)=>{this.pushManager.pipe(O(w=>w.subscribe(r)),C(1)).subscribe({next:w=>{this.subscriptionChanges.next(w),s(w)},error:g})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(H));let t=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(C(1),O(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||e)(p(D))};static \u0275prov=y({token:e,factory:e.\u0275fac})}return e})(),rt=(()=>{class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=T,this.unrecoverable=T;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(H));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(H));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||e)(p(D))};static \u0275prov=y({token:e,factory:e.\u0275fac})}return e})();var it=new q("");function Et(){let e=_(U);if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let n=_(it),t=_(G),r=_(J);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:o}=e;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...g]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=et(+g[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),et(+g[0])]);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}i.then(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(s=>console.error("Service worker registration failed with:",s)))})}function et(e){return new Promise(n=>setTimeout(n,e))}function It(e,n){return new D(e.enabled!==!1?navigator.serviceWorker:void 0,n)}var U=class{enabled;scope;registrationStrategy};function Tt(e,n={}){return le([tt,rt,{provide:it,useValue:e},{provide:U,useValue:n},{provide:D,useFactory:It,deps:[U,de]},me(Et)])}var nt=(()=>{class e{static register(t,r={}){return{ngModule:e,providers:[Tt(t,r)]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=f({type:e});static \u0275inj=m({providers:[tt,rt]})}return e})();var ot=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=f({type:e,bootstrap:[Be]});static \u0275inj=m({providers:[{provide:ve,useClass:ye}],imports:[ke,Te,R,Ke,We,Xe,nt.register("ngsw-worker.js",{enabled:Z.production})]})}return e})();Z.production&&void 0;var jt=Ce().bootstrapModule(ot);jt.then(e=>console.log("Bootstrap success")).catch(e=>console.error(e));
