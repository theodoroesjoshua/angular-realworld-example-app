import{A as u,Aa as N,B as m,C as h,D as c,Da as M,Fa as j,Ga as w,Ha as x,I as p,Ia as E,J as i,K as o,L as s,N as f,Na as U,P as l,X as S,ja as b,na as g,o as a,oa as v,pa as C,xa as y,za as F}from"./chunk-U3LDUPVL.js";var R=(()=>{class e{router;userService;fb;cd;user={};settingsForm;errors={};isSubmitting=!1;constructor(t,r,n,d){this.router=t,this.userService=r,this.fb=n,this.cd=d,this.settingsForm=this.fb.group({image:"",username:"",bio:"",email:"",password:""})}ngOnInit(){Object.assign(this.user,this.userService.getCurrentUser()),this.settingsForm.patchValue(this.user)}logout(){this.userService.purgeAuth(),this.router.navigateByUrl("/")}submitForm(){this.isSubmitting=!0,this.updateUser(this.settingsForm.value),this.userService.update(this.user).subscribe(t=>this.router.navigateByUrl("/profile/"+t.username),t=>{this.errors=t,this.isSubmitting=!1,this.cd.markForCheck()})}updateUser(t){Object.assign(this.user,t)}static \u0275fac=function(r){return new(r||e)(m(b),m(v),m(x),m(S))};static \u0275cmp=h({type:e,selectors:[["app-settings-page"]],standalone:!1,decls:25,vars:3,consts:[[1,"settings-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],[3,"errors"],[3,"ngSubmit","formGroup"],[3,"disabled"],[1,"form-group"],["type","text","placeholder","URL of profile picture","formControlName","image",1,"form-control"],["type","text","placeholder","Username","formControlName","username",1,"form-control","form-control-lg"],["rows","8","placeholder","Short bio about you","formControlName","bio",1,"form-control","form-control-lg"],["type","email","placeholder","Email","formControlName","email",1,"form-control","form-control-lg"],["type","password","placeholder","New Password","formControlName","password",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-lg","btn-primary","pull-xs-right"],[1,"btn","btn-outline-danger",3,"click"]],template:function(r,n){r&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),l(5,"Your Settings"),o(),s(6,"app-list-errors",5),i(7,"form",6),f("ngSubmit",function(){return n.submitForm()}),i(8,"fieldset",7)(9,"fieldset",8),s(10,"input",9),o(),i(11,"fieldset",8),s(12,"input",10),o(),i(13,"fieldset",8)(14,"textarea",11),l(15,"              "),o()(),i(16,"fieldset",8),s(17,"input",12),o(),i(18,"fieldset",8),s(19,"input",13),o(),i(20,"button",14),l(21," Update Settings "),o()()(),s(22,"hr"),i(23,"button",15),f("click",function(){return n.logout()}),l(24," Or click here to logout. "),o()()()()()),r&2&&(u(6),p("errors",n.errors),u(),p("formGroup",n.settingsForm),u(),p("disabled",n.isSubmitting))},dependencies:[M,y,F,N,j,w,E],encapsulation:2,changeDetection:0})}return e})();var I=[{path:"",component:R,canActivate:[C]}],_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=c({type:e});static \u0275inj=a({imports:[g.forChild(I),g]})}return e})();var Q=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=c({type:e});static \u0275inj=a({imports:[U,_]})}return e})();export{Q as SettingsModule};
