import{A as s,B as r,C as l,D as g,I as n,J as a,K as c,L as p,La as y,Ma as _,N as w,Na as T,P as f,Q as F,S as h,T as P,X as m,a as D,ha as u,i as I,ia as L,j,ja as C,ka as U,la as E,m as A,n as M,na as S,o as v,oa as x,q as R,ra as O,z as b}from"./chunk-U3LDUPVL.js";var N=(()=>{class e{route;router;cd;constructor(i,t,o){this.route=i,this.router=t,this.cd=o}profile;articlesConfig={type:"all",filters:{}};ngOnInit(){this.route.parent.data.subscribe(i=>{this.profile=i.profile,this.articlesConfig={type:"all",filters:{}},this.articlesConfig.filters.author=this.profile.username,this.cd.markForCheck()})}static \u0275fac=function(t){return new(t||e)(r(u),r(C),r(m))};static \u0275cmp=l({type:e,selectors:[["app-profile-articles"]],standalone:!1,decls:1,vars:2,consts:[[3,"limit","config"]],template:function(t,o){t&1&&p(0,"app-article-list",0),t&2&&n("limit",10)("config",o.articlesConfig)},dependencies:[y],encapsulation:2,changeDetection:0})}return e})();var V=()=>["/settings"],B=()=>({exact:!0}),W=e=>["/profile",e],X=e=>["/profile",e,"favorites"],z=(()=>{class e{route;userService;cd;constructor(i,t,o){this.route=i,this.userService=t,this.cd=o}profile;currentUser;isUser;ngOnInit(){this.route.data.pipe(j(i=>(this.profile=i.profile,this.userService.currentUser.pipe(A(t=>{this.currentUser=t,this.isUser=this.currentUser.username===this.profile.username}))))).subscribe(()=>{this.cd.markForCheck()})}onToggleFollowing(i){this.profile.following=i}static \u0275fac=function(t){return new(t||e)(r(u),r(x),r(m))};static \u0275cmp=l({type:e,selectors:[["app-profile-page"]],standalone:!1,decls:26,vars:18,consts:[[1,"profile-page"],[1,"user-info"],[1,"container"],[1,"row"],[1,"col-xs-12","col-md-10","offset-md-1"],["alt","user image",1,"user-img",3,"src"],[3,"toggle","hidden","profile"],[1,"btn","btn-sm","btn-outline-secondary","action-btn",3,"routerLink","hidden"],[1,"ion-gear-a"],[1,"articles-toggle"],[1,"nav","nav-pills","outline-active"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions","routerLink"]],template:function(t,o){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),p(5,"img",5),a(6,"h4"),f(7),c(),a(8,"p"),f(9),c(),a(10,"app-follow-button",6),w("toggle",function(J){return o.onToggleFollowing(J)}),c(),a(11,"a",7),p(12,"i",8),f(13," Edit Profile Settings "),c()()()()(),a(14,"div",2)(15,"div",3)(16,"div",4)(17,"div",9)(18,"ul",10)(19,"li",11)(20,"a",12),f(21," My Posts "),c()(),a(22,"li",11)(23,"a",12),f(24," Favorited Posts "),c()()()(),p(25,"router-outlet"),c()()()()),t&2&&(s(5),n("src",o.profile.image||"https://static.productionready.io/images/smiley-cyrus.jpg",b),s(2),F(o.profile.username),s(2),F(o.profile.bio),s(),n("hidden",o.isUser)("profile",o.profile),s(),n("routerLink",h(11,V))("hidden",!o.isUser),s(9),n("routerLinkActiveOptions",h(12,B))("routerLink",P(13,W,o.profile.username)),s(3),n("routerLinkActiveOptions",h(15,B))("routerLink",P(16,X,o.profile.username)))},dependencies:[_,L,U,E],encapsulation:2,changeDetection:0})}return e})();var q=(()=>{class e{route;cd;constructor(i,t){this.route=i,this.cd=t}profile;favoritesConfig={type:"all",filters:{}};ngOnInit(){this.route.parent.data.subscribe(i=>{this.profile=i.profile,this.favoritesConfig=D({},this.favoritesConfig),this.favoritesConfig.filters.favorited=this.profile.username,this.cd.markForCheck()})}static \u0275fac=function(t){return new(t||e)(r(u),r(m))};static \u0275cmp=l({type:e,selectors:[["app-profile-favorites"]],standalone:!1,decls:1,vars:2,consts:[[3,"limit","config"]],template:function(t,o){t&1&&p(0,"app-article-list",0),t&2&&n("limit",10)("config",o.favoritesConfig)},dependencies:[y],encapsulation:2,changeDetection:0})}return e})();var G=(()=>{class e{profilesService;router;constructor(i,t){this.profilesService=i,this.router=t}resolve(i,t){return this.profilesService.get(i.params.username).pipe(I(o=>this.router.navigateByUrl("/")))}static \u0275fac=function(t){return new(t||e)(R(O),R(C))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Y=[{path:":username",component:z,resolve:{profile:G},children:[{path:"",component:N},{path:"favorites",component:q}]}],H=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=g({type:e});static \u0275inj=v({imports:[S.forChild(Y),S]})}return e})();var De=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=g({type:e});static \u0275inj=v({imports:[T,H]})}return e})();export{De as ProfileModule};
