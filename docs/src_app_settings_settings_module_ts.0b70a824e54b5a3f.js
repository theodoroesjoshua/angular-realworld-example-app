"use strict";(self.webpackChunkang2_conduit=self.webpackChunkang2_conduit||[]).push([["src_app_settings_settings_module_ts"],{7544:(S,a,r)=>{r.r(a),r.d(a,{SettingsModule:()=>h});var o=r(1180),c=r(1404),l=r(6775),g=r(7543),t=r(9523),i=r(5030),p=r(6860);const d=[{path:"",component:(()=>{class e{constructor(s,n,m,Z){(0,o.Z)(this,"router",void 0),(0,o.Z)(this,"userService",void 0),(0,o.Z)(this,"fb",void 0),(0,o.Z)(this,"cd",void 0),(0,o.Z)(this,"user",{}),(0,o.Z)(this,"settingsForm",void 0),(0,o.Z)(this,"errors",{}),(0,o.Z)(this,"isSubmitting",!1),this.router=s,this.userService=n,this.fb=m,this.cd=Z,this.settingsForm=this.fb.group({image:"",username:"",bio:"",email:"",password:""})}ngOnInit(){Object.assign(this.user,this.userService.getCurrentUser()),this.settingsForm.patchValue(this.user)}logout(){this.userService.purgeAuth(),this.router.navigateByUrl("/")}submitForm(){this.isSubmitting=!0,this.updateUser(this.settingsForm.value),this.userService.update(this.user).subscribe(s=>this.router.navigateByUrl("/profile/"+s.username),s=>{this.errors=s,this.isSubmitting=!1,this.cd.markForCheck()})}updateUser(s){Object.assign(this.user,s)}}return(0,o.Z)(e,"\u0275fac",function(s){return new(s||e)(t.Y36(l.F0),t.Y36(g.KD),t.Y36(i.qu),t.Y36(t.sBO))}),(0,o.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["app-settings-page"]],decls:25,vars:3,consts:[[1,"settings-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],[3,"errors"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-group"],["type","text","placeholder","URL of profile picture","formControlName","image",1,"form-control"],["type","text","placeholder","Username","formControlName","username",1,"form-control","form-control-lg"],["rows","8","placeholder","Short bio about you","formControlName","bio",1,"form-control","form-control-lg"],["type","email","placeholder","Email","formControlName","email",1,"form-control","form-control-lg"],["type","password","placeholder","New Password","formControlName","password",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-lg","btn-primary","pull-xs-right"],[1,"btn","btn-outline-danger",3,"click"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5,"Your Settings"),t.qZA(),t._UZ(6,"app-list-errors",5),t.TgZ(7,"form",6),t.NdJ("ngSubmit",function(){return n.submitForm()}),t.TgZ(8,"fieldset",7)(9,"fieldset",8),t._UZ(10,"input",9),t.qZA(),t.TgZ(11,"fieldset",8),t._UZ(12,"input",10),t.qZA(),t.TgZ(13,"fieldset",8)(14,"textarea",11),t._uU(15,"              "),t.qZA()(),t.TgZ(16,"fieldset",8),t._UZ(17,"input",12),t.qZA(),t.TgZ(18,"fieldset",8),t._UZ(19,"input",13),t.qZA(),t.TgZ(20,"button",14),t._uU(21," Update Settings "),t.qZA()()(),t._UZ(22,"hr"),t.TgZ(23,"button",15),t.NdJ("click",function(){return n.logout()}),t._uU(24," Or click here to logout. "),t.qZA()()()()()),2&s&&(t.xp6(6),t.Q6J("errors",n.errors),t.xp6(1),t.Q6J("formGroup",n.settingsForm),t.xp6(1),t.Q6J("disabled",n.isSubmitting))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,p.S],encapsulation:2,changeDetection:0})),e})(),canActivate:[g.a1]}];let f=(()=>{class e{}return(0,o.Z)(e,"\u0275fac",function(s){return new(s||e)}),(0,o.Z)(e,"\u0275mod",t.oAB({type:e})),(0,o.Z)(e,"\u0275inj",t.cJS({imports:[l.Bz.forChild(d),l.Bz]})),e})(),h=(()=>{class e{}return(0,o.Z)(e,"\u0275fac",function(s){return new(s||e)}),(0,o.Z)(e,"\u0275mod",t.oAB({type:e})),(0,o.Z)(e,"\u0275inj",t.cJS({imports:[c.m8,f]})),e})()}}]);