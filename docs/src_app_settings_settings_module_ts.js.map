{"version":3,"file":"src_app_settings_settings_module_ts.js","mappings":"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","sources":["./src/app/settings/settings-routing.module.ts","./src/app/settings/settings.component.ts","./src/app/settings/settings.component.html","./src/app/settings/settings.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from '../core';\r\nimport { SettingsComponent } from './settings.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SettingsComponent,\r\n    canActivate: [AuthGuard]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class SettingsRoutingModule {}\r\n","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { User, UserService } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-settings-page',\r\n  templateUrl: './settings.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class SettingsComponent implements OnInit {\r\n  user: User = {} as User;\r\n  settingsForm: FormGroup;\r\n  errors: Object = {};\r\n  isSubmitting = false;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private userService: UserService,\r\n    private fb: FormBuilder,\r\n    private cd: ChangeDetectorRef\r\n  ) {\r\n    // create form group using the form builder\r\n    this.settingsForm = this.fb.group({\r\n      image: '',\r\n      username: '',\r\n      bio: '',\r\n      email: '',\r\n      password: ''\r\n    });\r\n    // Optional: subscribe to changes on the form\r\n    // this.settingsForm.valueChanges.subscribe(values => this.updateUser(values));\r\n  }\r\n\r\n  ngOnInit() {\r\n    // Make a fresh copy of the current user's object to place in editable form fields\r\n    Object.assign(this.user, this.userService.getCurrentUser());\r\n    // Fill the form\r\n    this.settingsForm.patchValue(this.user);\r\n  }\r\n\r\n  logout() {\r\n    this.userService.purgeAuth();\r\n    this.router.navigateByUrl('/');\r\n  }\r\n\r\n  submitForm() {\r\n    this.isSubmitting = true;\r\n\r\n    // update the model\r\n    this.updateUser(this.settingsForm.value);\r\n\r\n    this.userService\r\n    .update(this.user)\r\n    .subscribe(\r\n      updatedUser => this.router.navigateByUrl('/profile/' + updatedUser.username),\r\n      err => {\r\n        this.errors = err;\r\n        this.isSubmitting = false;\r\n        this.cd.markForCheck();\r\n      }\r\n    );\r\n  }\r\n\r\n  updateUser(values: Object) {\r\n    Object.assign(this.user, values);\r\n  }\r\n\r\n}\r\n","<div class=\"settings-page\">\r\n  <div class=\"container page\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6 offset-md-3 col-xs-12\">\r\n\r\n        <h1 class=\"text-xs-center\">Your Settings</h1>\r\n\r\n        <app-list-errors [errors]=\"errors\"></app-list-errors>\r\n\r\n        <form [formGroup]=\"settingsForm\" (ngSubmit)=\"submitForm()\">\r\n          <fieldset [disabled]=\"isSubmitting\">\r\n\r\n            <fieldset class=\"form-group\">\r\n              <input class=\"form-control\"\r\n                type=\"text\"\r\n                placeholder=\"URL of profile picture\"\r\n                formControlName=\"image\" />\r\n            </fieldset>\r\n\r\n            <fieldset class=\"form-group\">\r\n              <input class=\"form-control form-control-lg\"\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                formControlName=\"username\" />\r\n            </fieldset>\r\n\r\n            <fieldset class=\"form-group\">\r\n              <textarea class=\"form-control form-control-lg\"\r\n                rows=\"8\"\r\n                placeholder=\"Short bio about you\"\r\n                formControlName=\"bio\">\r\n              </textarea>\r\n            </fieldset>\r\n\r\n            <fieldset class=\"form-group\">\r\n              <input class=\"form-control form-control-lg\"\r\n                type=\"email\"\r\n                placeholder=\"Email\"\r\n                formControlName=\"email\" />\r\n            </fieldset>\r\n\r\n            <fieldset class=\"form-group\">\r\n              <input class=\"form-control form-control-lg\"\r\n                type=\"password\"\r\n                placeholder=\"New Password\"\r\n                formControlName=\"password\" />\r\n            </fieldset>\r\n\r\n            <button class=\"btn btn-lg btn-primary pull-xs-right\"\r\n              type=\"submit\">\r\n              Update Settings\r\n            </button>\r\n\r\n          </fieldset>\r\n        </form>\r\n\r\n        <!-- Line break for logout button -->\r\n        <hr />\r\n\r\n        <button class=\"btn btn-outline-danger\"\r\n          (click)=\"logout()\">\r\n          Or click here to logout.\r\n        </button>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { SettingsComponent } from './settings.component';\r\nimport { SharedModule } from '../shared';\r\nimport { SettingsRoutingModule } from './settings-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    SettingsRoutingModule\r\n  ],\r\n  declarations: [\r\n    SettingsComponent\r\n  ]\r\n})\r\nexport class SettingsModule {}\r\n"],"names":["RouterModule","AuthGuard","SettingsComponent","routes","path","component","canActivate","SettingsRoutingModule","_defineProperty","forChild","imports","i1","exports","ChangeDetectorRef","FormBuilder","Router","UserService","constructor","router","userService","fb","cd","settingsForm","group","image","username","bio","email","password","ngOnInit","Object","assign","user","getCurrentUser","patchValue","logout","purgeAuth","navigateByUrl","submitForm","isSubmitting","updateUser","value","update","subscribe","updatedUser","err","errors","markForCheck","values","i0","ɵɵdirectiveInject","i2","i3","selectors","decls","vars","consts","template","SettingsComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","SettingsComponent_Template_form_ngSubmit_7_listener","SettingsComponent_Template_button_click_23_listener","ɵɵadvance","ɵɵproperty","SharedModule","SettingsModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}