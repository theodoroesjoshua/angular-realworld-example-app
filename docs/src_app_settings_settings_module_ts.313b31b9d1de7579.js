"use strict";(self.webpackChunkang2_conduit=self.webpackChunkang2_conduit||[]).push([["src_app_settings_settings_module_ts"],{6916:(h,m,o)=>{o.r(m),o.d(m,{SettingsModule:()=>d});var c=o(1994),a=o(8871),u=o(7547),t=o(4438),i=o(4341),g=o(5255);const p=[{path:"",component:(()=>{class e{router;userService;fb;cd;user={};settingsForm;errors={};isSubmitting=!1;constructor(r,s,n,l){this.router=r,this.userService=s,this.fb=n,this.cd=l,this.settingsForm=this.fb.group({image:"",username:"",bio:"",email:"",password:""})}ngOnInit(){Object.assign(this.user,this.userService.getCurrentUser()),this.settingsForm.patchValue(this.user)}logout(){this.userService.purgeAuth(),this.router.navigateByUrl("/")}submitForm(){this.isSubmitting=!0,this.updateUser(this.settingsForm.value),this.userService.update(this.user).subscribe(r=>this.router.navigateByUrl("/profile/"+r.username),r=>{this.errors=r,this.isSubmitting=!1,this.cd.markForCheck()})}updateUser(r){Object.assign(this.user,r)}static \u0275fac=function(s){return new(s||e)(t.rXU(a.Ix),t.rXU(u.DL),t.rXU(i.ok),t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:e,selectors:[["app-settings-page"]],decls:25,vars:3,consts:[[1,"settings-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],[3,"errors"],[3,"ngSubmit","formGroup"],[3,"disabled"],[1,"form-group"],["type","text","placeholder","URL of profile picture","formControlName","image",1,"form-control"],["type","text","placeholder","Username","formControlName","username",1,"form-control","form-control-lg"],["rows","8","placeholder","Short bio about you","formControlName","bio",1,"form-control","form-control-lg"],["type","email","placeholder","Email","formControlName","email",1,"form-control","form-control-lg"],["type","password","placeholder","New Password","formControlName","password",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-lg","btn-primary","pull-xs-right"],[1,"btn","btn-outline-danger",3,"click"]],template:function(s,n){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t.EFF(5,"Your Settings"),t.k0s(),t.nrm(6,"app-list-errors",5),t.j41(7,"form",6),t.bIt("ngSubmit",function(){return n.submitForm()}),t.j41(8,"fieldset",7)(9,"fieldset",8),t.nrm(10,"input",9),t.k0s(),t.j41(11,"fieldset",8),t.nrm(12,"input",10),t.k0s(),t.j41(13,"fieldset",8)(14,"textarea",11),t.EFF(15,"              "),t.k0s()(),t.j41(16,"fieldset",8),t.nrm(17,"input",12),t.k0s(),t.j41(18,"fieldset",8),t.nrm(19,"input",13),t.k0s(),t.j41(20,"button",14),t.EFF(21," Update Settings "),t.k0s()()(),t.nrm(22,"hr"),t.j41(23,"button",15),t.bIt("click",function(){return n.logout()}),t.EFF(24," Or click here to logout. "),t.k0s()()()()()),2&s&&(t.R7$(6),t.Y8G("errors",n.errors),t.R7$(),t.Y8G("formGroup",n.settingsForm),t.R7$(),t.Y8G("disabled",n.isSubmitting))},dependencies:[i.qT,i.me,i.BC,i.cb,i.j4,i.JD,g.Z],encapsulation:2,changeDetection:0})}return e})(),canActivate:[u.q_]}];let f=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[a.iI.forChild(p),a.iI]})}return e})(),d=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[c.Gg,f]})}return e})()}}]);